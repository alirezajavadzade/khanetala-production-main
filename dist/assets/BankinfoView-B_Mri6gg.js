import{_ as Pe,r as s,p as re,q as ie,j as je,i as ue,m as W,g as l,w as r,c as I,d as E,u as De,A as Ne,a as p,o as m,e as n,t as _,b as D,h as ce}from"./index-GbV0-74n.js";import{P as Ae,T as U}from"./trade-BtGVMP26.js";function Oe(c){if(typeof c!="string")throw new TypeError("PersianTools: removeCommas - The input must be string");let x=""+c;return x.indexOf(",")!==-1&&(x=x.replace(/,\s?/g,"")),Number(x)}const Se={صفر:0,یک:1,دو:2,سه:3,چهار:4,پنج:5,شش:6,شیش:6,هفت:7,هشت:8,نه:9,ده:10,یازده:11,دوازده:12,سیزده:13,چهارده:14,پانزده:15,شانزده:16,هفده:17,هجده:18,نوزده:19,بیست:20,سی:30,چهل:40,پنجاه:50,شصت:60,هفتاد:70,هشتاد:80,نود:90},Be={صد:100,یکصد:100,دویست:200,سیصد:300,چهارصد:400,پانصد:500,ششصد:600,هفتصد:700,هشتصد:800,نهصد:900},Ce={هزار:1e3,میلیون:1e6,بیلیون:1e9,میلیارد:1e9,تریلیون:1e12};[...Object.keys(Se),...Object.keys(Be),...Object.keys(Ce)];const de={1:"یک",2:"دو",3:"سه",4:"چهار",5:"پنج",6:"شش",7:"هفت",8:"هشت",9:"نه",10:"ده",11:"یازده",12:"دوازده",13:"سیزده",14:"چهارده",15:"پانزده",16:"شانزده",17:"هفده",18:"هجده",19:"نوزده",20:"بیست",30:"سی",40:"چهل",50:"پنجاه",60:"شصت",70:"هفتاد",80:"هشتاد",90:"نود",100:"صد",200:"دویست",300:"سیصد",400:"چهار صد",500:"پانصد",600:"شش صد",700:"هفت صد",800:"هشت صد",900:"نه صد",1e3:"هزار",1e6:"میلیون",1e9:"میلیارد",1e12:"تریلیون",1e15:"کوآدریلیون"},Ue=c=>{if(typeof c!="string")throw new TypeError("PersianTools: addOrdinalSuffix - The input must be string");return c.endsWith("ی")?c+" اُم":c.endsWith("سه")?c.slice(0,-2)+"سوم":c+"م"},ve=(c,x)=>{const y=()=>TypeError("PersianTools: numberToWords - the number must be a safe integer value");if(typeof c!="string"&&!Number.isSafeInteger(c))return y();const i=Number(typeof c=="number"?c:Oe(c)),N=!1,h=o=>de[o]??"";function w(o){if(o===0)return"";if(o<=9||o>=11&&o<=19)return h(o);const f=o<=99?o%10:o%100;return f===0?h(o):`${h(o-f)} و ${w(f)}`}function A(o){if(o<=999)return w(o);const f=Number(o).toLocaleString().split(",");return f.map((k,P)=>{const{transformedVal:T,unitName:v}=Object.freeze({transformedVal:w(Number.parseInt(k,10)),unitName:(u=3*(f.length-(P+1)),u===0?"":de[Number.parseInt(`1${"0".repeat(u)}`)])});var u;return T?T+" "+v:""}).filter(k=>k.length>1).join(" و ").trim()}const O=Math.abs(i);return(()=>{if(Number(c)===0)return"صفر";if(typeof(o=i)=="number"&&Number.isSafeInteger(o)&&o!==0){const f=(k=>k<0)(i)?"منفی "+A(O):A(O);return N?Ue(f):f}return y();var o})()},d="همراه اول",G="ایرانسل",L="رایتل",ze={910:{base:"کشوری",province:[],type:["permanent","credit"],operator:d},914:{province:["آذربایجان شرقی","اردبیل","اصفهان"],base:"آذربایجان غربی",type:["permanent","credit"],operator:d},911:{province:["گلستان","گیلان"],base:"مازندران",type:["permanent","credit"],operator:d},912:{province:["البرز","زنجان","سمنان","قزوین","قم","برخی از شهرستان های استان مرکزی"],base:"تهران",type:["permanent"],operator:d},913:{province:["یزد","چهارمحال و بختیاری","کرمان"],base:"اصفهان",type:["permanent","credit"],operator:d},915:{province:["خراسان شمالی","خراسان جنوبی","سیستان و بلوچستان"],base:"خراسان رضوی",type:["permanent","credit"],operator:d},916:{province:["لرستان","فارس","اصفهان"],base:"خوزستان",type:["permanent","credit"],operator:d},917:{province:["بوشهر","کهگیلویه و بویر احمد","هرمزگان"],base:"فارس",type:["permanent","credit"],operator:d},918:{province:["کردستان","ایلام","همدان"],base:"کرمانشاه",type:["permanent","credit"],operator:d},919:{province:["البرز","سمنان","قم","قزوین","زنجان"],base:"تهران",type:["credit"],operator:d},990:{province:[],base:"کشوری",type:["credit"],operator:d},991:{province:[],base:"کشوری",type:["permanent","credit"],operator:d},992:{province:[],base:"کشوری",type:["credit"],operator:d},993:{province:[],base:"کشوری",type:["credit"],operator:d},994:{province:[],base:"کشوری",type:["credit"],operator:d},995:{province:[],base:"کشوری",type:["permanent","credit"],operator:d},996:{province:[],base:"کشوری",type:["permanent","credit"],operator:d}},Ee={932:{province:[],base:"کشوری",type:["credit"],operator:"تالیا"}},Le={920:{province:[],base:"کشوری",type:["permanent"],operator:L},921:{province:[],base:"کشوری",type:["credit"],operator:L},922:{province:[],base:"کشوری",type:["credit"],operator:L},923:{province:[],base:"کشوری",type:["credit"],operator:L}},b={province:[],base:"کشوری",type:["permanent","credit"],operator:G},Me={930:b,933:b,935:b,936:b,937:b,938:b,939:b,901:b,902:b,903:b,905:b,900:b,904:{province:[],base:"کشوری",model:"سیم‌کارت کودک",type:["credit"],operator:G},941:{province:[],base:"کشوری",model:"TD-LTE",type:["credit"],operator:G}},$e={998:{province:[],base:"کشوری",type:["credit"],operator:"شاتل موبایل"}},qe={999:{base:"کشوری",province:[],type:["permanent","credit"],operator:"آپتل"}};[...Object.keys(ze),...Object.keys(Ee),...Object.keys(Le),...Object.keys(Me),...Object.keys($e),...Object.keys(qe)];const Ge={class:"d-card asset"},Re={class:"d-flex justify-space-between align-center w-100"},Fe={class:"d-flex flex-column justify-space-between h-100 align-end"},Ke={key:1,class:"price my-1"},He={key:3,class:"gold-price my-1"},Je={class:"action"},Qe={class:"d-flex flex-column h-100 w-100"},Xe={class:"asset-card mb-3"},Ye={class:"d-flex flex-column justify-space-between h-100 align-end"},Ze={key:1,class:"gold-weight my-1"},et={key:3,class:"gold-price my-1"},tt={class:"asset-card"},at={key:1,class:"price my-1"},ot={class:"trade-history"},lt={class:"d-flex justify-space-between"},st={class:""},nt={class:""},rt={key:0},it={class:"amount-word"},ut={key:0},ct={class:"amount-word"},dt={__name:"BankinfoView",setup(c){const x=De(),y=s(""),i=s(!1),N=s(!1),h=s(null),w=s(!1),A=s(),O=s(),o=s(!1),f=s(!1),k=s(!1),P=s(!1),T=s(!1),v=s(""),u=s(""),j=s(""),pe=s(!1),R=s(""),me=s([{text:"موفق",value:"completed"},{text:"ناموفق",value:"failed"},{text:"همه",value:""}]),F=s([{title:"تاریخ",key:"date"},{title:"زمان",key:"time"},{title:"مقدار(ریال)",key:"amount"},{title:"وضعیت",key:"status"}]),V=s({balance:"-",goldWeight:"-",goldprice:"-",TotalAssets:"-"}),S=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),B=s({sellPrice:"",buyPrice:"",change:""}),C=s({type:"",status:""}),K=s(""),M=s({}),H=async()=>{try{o.value=!0;const e=await Ne.Wallet();return V.value.balance=e.balance,V.value.goldWeight=e.goldWeight,V.value.TotalAssets=e.totalAssets,e}catch(e){y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{o.value=!1}},fe=async()=>{try{f.value=!0;const e=await Ae.GoldPrice();return B.value.buyPrice=e.buyPrice,B.value.sellPrice=e.sellPrice,B.value.change=e.change,e}catch(e){y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{f.value=!1}},be=async()=>{try{const e=await U.DepositWallet(v.value.replaceAll(",",""));return K.value=e.url,window.location.href=K.value,e}catch(e){y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{}},ye=async e=>{try{const t=await U.VerifyDepositWallet(e);return console.log(t),M.value=t,t}catch(t){y.value=t.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{}},ge=async()=>{try{k.value=!0;const e=await U.WithdrawWallet(u.value.replaceAll(",",""));return T.value=!1,R.value=`مبلغ ${u.value} پس از تایید کارشناس به حساب شما واریز خواهد شد.`,N.value=!0,setTimeout(()=>{N.value=!1},5e3),H(),$(),e}catch(e){y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{k.value=!1}},J=[e=>!!e||"مقدار ورودی نمی‌تواند خالی باشد",e=>/^\d+$/.test(e.replace(/,/g,""))||"فقط عدد مجاز است"],_e=()=>{v.value=v.value.replace(/\D/g,""),v.value.length>10&&(v.value=v.value.slice(0,11)),v.value=Q(v.value)},we=()=>{u.value=u.value.replace(/\D/g,""),u.value.length>10&&(u.value=u.value.slice(0,11)),u.value=Q(u.value)},Q=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),X=async()=>{try{C.value.type="deposit",w.value=!0;const e=await U.WalletTransaction(C.value);return A.value=e,e}catch(e){console.log(e),y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{w.value=!1}},$=async()=>{try{C.value.type="withdraw",w.value=!0;const e=await U.WalletTransaction(C.value);return O.value=e,e}catch(e){console.log(e),y.value=e.response.data.msg||"خطایی رخ داده است!",i.value=!0,setTimeout(()=>{i.value=!1},1e4)}finally{w.value=!1}},he=e=>{C.value.status=e.value,X(),$()},ke=re(()=>{if(u.value){const e=u.value.replace(/,/g,""),g=parseInt(e,10)/10;return g<1?"کمتر از یک تومان":ve(Math.floor(g))+" تومان"}return""}),xe=re(()=>{if(v.value){const e=v.value.replace(/,/g,""),g=parseInt(e,10)/10;return g<1?"کمتر از یک تومان":ve(Math.floor(g))+" تومان"}return""});return ie(T,e=>{e||(u.value="")}),ie(P,e=>{e||(v.value="")}),je(()=>{H(),fe(),X(),$();const e=s({authority:x.query.Authority,status:x.query.Status});e.value.authority&&e.value.status&&(ye(e.value),e.value.status==="OK"?ue.push({name:"success",query:M.value}):ue.push({name:"failed",query:M.value}))}),(e,t)=>{const g=p("v-progress-circular"),z=p("v-btn"),q=p("v-col"),Y=p("v-tab"),Te=p("v-tabs"),Ve=p("v-combobox"),Z=p("v-chip"),ee=p("v-data-table"),te=p("v-tabs-window-item"),We=p("v-tabs-window"),Ie=p("v-row"),ae=p("v-alert"),oe=p("v-text-field"),le=p("v-form"),se=p("v-card"),ne=p("v-dialog");return m(),W("div",null,[l(Ie,{class:"mt-5"},{default:r(()=>[l(q,{cols:"12",md:"6"},{default:r(()=>[n("div",Ge,[n("div",Re,[t[10]||(t[10]=n("p",{class:"text"},"موجودی کیف پول ریالی : ",-1)),n("div",Fe,[o.value?(m(),I(g,{key:0,size:10,color:"#fff",indeterminate:""})):(m(),W("p",Ke,_(S(V.value.balance))+" ریال",1)),o.value?(m(),I(g,{key:2,size:10,color:"#fff",indeterminate:""})):(m(),W("p",He,"معادل "+_((V.value.balance/B.value.buyPrice).toFixed(2))+" گرم طلا",1))])]),n("div",Je,[l(z,{variant:"flat",color:"#00603A",class:"wallet-btn",onClick:t[0]||(t[0]=a=>P.value=!0)},{default:r(()=>t[11]||(t[11]=[D("شارژ کیف پول")])),_:1}),l(z,{variant:"outlined",color:"#00603A",class:"wallet-btn",onClick:t[1]||(t[1]=a=>T.value=!0)},{default:r(()=>t[12]||(t[12]=[D("برداشت")])),_:1})])])]),_:1}),l(q,{cols:"12",md:"6"},{default:r(()=>[n("div",Qe,[n("div",Xe,[t[13]||(t[13]=n("p",{class:"text"},"موجودی صندوق طلا : ",-1)),n("div",Ye,[o.value?(m(),I(g,{key:0,size:10,color:"#fff",indeterminate:""})):(m(),W("p",Ze,_(V.value.goldWeight)+" گرم",1)),o.value?(m(),I(g,{key:2,size:10,color:"#fff",indeterminate:""})):(m(),W("p",et,"معادل "+_(S(V.value.goldWeight*B.value.buyPrice))+"ریال",1))])]),n("div",tt,[t[14]||(t[14]=n("p",{class:"text"},"دارایی کل",-1)),o.value?(m(),I(g,{key:0,size:10,color:"#fff",indeterminate:""})):(m(),W("p",at,_(S(V.value.TotalAssets)),1))])])]),_:1}),l(q,{cols:"12"},{default:r(()=>[t[18]||(t[18]=n("h3",{class:"transaction-title"},"تاریخچه تراکنش ها",-1)),n("div",ot,[n("div",lt,[l(Te,{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=a=>h.value=a),"bg-color":"white"},{default:r(()=>[l(Y,{value:"one"},{default:r(()=>t[15]||(t[15]=[D("واریز")])),_:1}),l(Y,{value:"two"},{default:r(()=>t[16]||(t[16]=[D("برداشت")])),_:1})]),_:1},8,["modelValue"]),l(Ve,{label:"وضعیت پرداخت",items:me.value,"item-title":"text","item-value":"value",density:"comfortable",variant:"solo",class:"transaction-filter","onUpdate:modelValue":he},null,8,["items"])]),l(We,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=a=>h.value=a)},{default:r(()=>[l(te,{value:"one",class:"transaction-box"},{default:r(()=>[t[17]||(t[17]=n("div",{class:"d-flex justify-end"},null,-1)),l(ee,{headers:F.value,items:A.value,loading:w.value,class:"transaction-table"},{"item.status":r(({item:a})=>[n("div",st,[l(Z,{text:a.status=="completed"?"موفق":a.status=="pending"?"نامشخص":"ناموفق",color:a.status=="completed"?"green":a.status=="pending"?"#666666":"red",size:"small"},null,8,["text","color"])])]),"item.amount":r(({item:a})=>[n("p",null,_(S(a.amount)),1)]),_:1},8,["headers","items","loading"])]),_:1}),l(te,{value:"two",class:"transaction-box"},{default:r(()=>[l(ee,{headers:F.value,items:O.value,loading:w.value,class:"transaction-table"},{"item.status":r(({item:a})=>[n("div",nt,[l(Z,{text:a.status=="completed"?"موفق":a.status=="pending"?"نامشخص":"ناموفق",color:a.status=="completed"?"green":a.status=="pending"?"#666666":"red",size:"small"},null,8,["text","color"])])]),"item.amount":r(({item:a})=>[n("p",null,_(S(a.amount)),1)]),_:1},8,["headers","items","loading"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),i.value?(m(),I(ae,{key:0,color:"error",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:r(()=>[D(_(y.value),1)]),_:1})):E("",!0),N.value?(m(),I(ae,{key:1,color:"success",border:"bottom",elevation:"2",class:"k-alert alert-animatiton",closable:""},{default:r(()=>[D(_(R.value),1)]),_:1})):E("",!0),l(ne,{modelValue:P.value,"onUpdate:modelValue":t[6]||(t[6]=a=>P.value=a),width:"auto"},{default:r(()=>[l(se,{"min-width":"350","max-width":"400",class:"cart-Dialog"},{default:r(()=>[t[19]||(t[19]=n("div",{class:"title my-1"},[n("p",null,"مبلغ مورد نظر را جهت واریز وارد نمایید")],-1)),l(le,{ref:"form",modelValue:j.value,"onUpdate:modelValue":t[5]||(t[5]=a=>j.value=a),onSubmit:ce(be,["prevent"])},{default:r(()=>[l(oe,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=a=>v.value=a),variant:"outlined",color:"rgba(135, 104, 36, 1)",density:"compact",label:"مبلغ (ریال)",class:"mb-0 mt-2",rules:J,onInput:_e},null,8,["modelValue"]),v.value?(m(),W("div",rt,[n("p",it,_(xe.value),1)])):E("",!0),l(z,{type:"submit",text:"شارژ حساب",block:"",color:"#9D7E3B",variant:"flat",class:"submit-cart-btn",disabled:!j.value,loading:pe.value},null,8,["disabled","loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),l(ne,{modelValue:T.value,"onUpdate:modelValue":t[9]||(t[9]=a=>T.value=a),width:"auto"},{default:r(()=>[l(se,{"min-width":"350","max-width":"400",class:"cart-Dialog"},{default:r(()=>[t[20]||(t[20]=n("div",{class:"title my-1"},[n("p",null,"مبلغ مورد نظر را جهت برداشت وارد نمایید")],-1)),l(le,{ref:"form",modelValue:j.value,"onUpdate:modelValue":t[8]||(t[8]=a=>j.value=a),onSubmit:ce(ge,["prevent"])},{default:r(()=>[l(oe,{modelValue:u.value,"onUpdate:modelValue":t[7]||(t[7]=a=>u.value=a),variant:"outlined",color:"rgba(135, 104, 36, 1)",density:"compact",label:"مبلغ (ریال)",class:"mb-0 mt-2",rules:J,onInput:we},null,8,["modelValue"]),u.value?(m(),W("div",ut,[n("p",ct,_(ke.value),1)])):E("",!0),l(z,{type:"submit",text:"برداشت از حساب",block:"",color:"#9D7E3B",variant:"flat",class:"submit-cart-btn",disabled:!j.value,loading:k.value},null,8,["disabled","loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}}},mt=Pe(dt,[["__scopeId","data-v-6b0ddc98"]]);export{mt as default};
